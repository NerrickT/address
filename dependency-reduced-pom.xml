<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <groupId>opus</groupId>
  <artifactId>address</artifactId>
  <name>Glorified Address Book</name>
  <version>0.1</version>
  <prerequisites>
    <maven>3.0.0</maven>
  </prerequisites>
  <scm>
    <connection>scm:git://github.com/saem/address.git</connection>
  </scm>
  <build>
    <plugins>
      <plugin>
        <artifactId>maven-enforcer-plugin</artifactId>
        <version>1.3.1</version>
        <executions>
          <execution>
            <id>enforce</id>
            <goals>
              <goal>enforce</goal>
            </goals>
            <configuration>
              <rules>
                <DependencyConvergence />
              </rules>
            </configuration>
          </execution>
        </executions>
      </plugin>
      <plugin>
        <artifactId>maven-compiler-plugin</artifactId>
        <version>3.1</version>
        <configuration>
          <source>1.8</source>
          <target>1.8</target>
          <encoding>UTF-8</encoding>
        </configuration>
      </plugin>
      <plugin>
        <artifactId>maven-source-plugin</artifactId>
        <version>2.2.1</version>
        <executions>
          <execution>
            <id>attach-sources</id>
            <goals>
              <goal>jar</goal>
            </goals>
          </execution>
        </executions>
      </plugin>
      <plugin>
        <artifactId>maven-jar-plugin</artifactId>
        <version>2.4</version>
        <configuration>
          <archive>
            <manifest>
              <addDefaultImplementationEntries>true</addDefaultImplementationEntries>
            </manifest>
            <manifestEntries>
              <Implementation-Build>${buildNumber}</Implementation-Build>
            </manifestEntries>
          </archive>
        </configuration>
      </plugin>
      <plugin>
        <artifactId>maven-shade-plugin</artifactId>
        <version>2.2</version>
        <executions>
          <execution>
            <phase>package</phase>
            <goals>
              <goal>shade</goal>
            </goals>
            <configuration>
              <transformers>
                <transformer />
                <transformer>
                  <mainClass>opus.address.AddressApplication</mainClass>
                </transformer>
              </transformers>
            </configuration>
          </execution>
        </executions>
        <configuration>
          <createDependencyReducedPom>true</createDependencyReducedPom>
          <filters>
            <filter>
              <artifact>*:*</artifact>
              <excludes>
                <exclude>META-INF/*.SF</exclude>
                <exclude>META-INF/*.DSA</exclude>
                <exclude>META-INF/*.RSA</exclude>
              </excludes>
            </filter>
          </filters>
        </configuration>
      </plugin>
      <plugin>
        <groupId>org.codehaus.mojo</groupId>
        <artifactId>buildnumber-maven-plugin</artifactId>
        <version>1.3</version>
        <executions>
          <execution>
            <phase>validate</phase>
            <goals>
              <goal>create</goal>
            </goals>
          </execution>
        </executions>
        <configuration>
          <doCheck>false</doCheck>
          <doUpdate>false</doUpdate>
        </configuration>
      </plugin>
      <plugin>
        <groupId>org.jooq</groupId>
        <artifactId>jooq-codegen-maven</artifactId>
        <version>${jooq.version}</version>
        <configuration>
          <jdbc>
            <driver>org.postgresql.Driver</driver>
            <url>jdbc:postgresql://localpg/address</url>
            <user>address</user>
            <password>address</password>
          </jdbc>
          <generator>
            <name>org.jooq.util.DefaultGenerator</name>
            <database>
              <name>org.jooq.util.postgres.PostgresDatabase</name>
              <includes>.*</includes>
              <excludes />
              <inputSchema>address</inputSchema>
              <schemata>
                <schema>
                  <inputSchema>public</inputSchema>
                  <outputSchemaToDefault>true</outputSchemaToDefault>
                </schema>
              </schemata>
            </database>
            <target>
              <packageName>opus.address.database.jooq.generated</packageName>
              <directory>src/main/java/</directory>
            </target>
            <generate>
              <relations>true</relations>
              <generatedAnnotation>true</generatedAnnotation>
              <records>true</records>
              <pojos>true</pojos>
              <immutablePojos>true</immutablePojos>
              <interfaces>false</interfaces>
              <daos>false</daos>
              <jpaAnnotations>false</jpaAnnotations>
              <validationAnnotations>false</validationAnnotations>
              <globalObjectReferences>true</globalObjectReferences>
              <fluentSetters>false</fluentSetters>
            </generate>
            <strategy>
              <matchers>
                <schemas>
                  <MatchersSchemaType>
                    <expression>address</expression>
                    <schemaClass>
                      <transform>AS_IS</transform>
                      <expression>$0</expression>
                    </schemaClass>
                    <schemaIdentifier>
                      <transform>AS_IS</transform>
                      <expression>$0</expression>
                    </schemaIdentifier>
                  </MatchersSchemaType>
                </schemas>
                <tables>
                  <table>
                    <tableIdentifier>
                      <transform>PASCAL</transform>
                      <expression>$0</expression>
                    </tableIdentifier>
                    <tableClass>
                      <transform>PASCAL</transform>
                      <expression>$0</expression>
                    </tableClass>
                    <daoClass>
                      <transform>PASCAL</transform>
                      <expression>$0</expression>
                    </daoClass>
                    <recordClass>
                      <transform>PASCAL</transform>
                      <expression>$0</expression>
                    </recordClass>
                    <interfaceClass>
                      <transform>PASCAL</transform>
                      <expression>$0</expression>
                    </interfaceClass>
                    <pojoClass>
                      <transform>PASCAL</transform>
                      <expression>$0_Projection</expression>
                    </pojoClass>
                  </table>
                </tables>
                <fields>
                  <field>
                    <fieldIdentifier>
                      <transform>PASCAL</transform>
                      <expression>$0</expression>
                    </fieldIdentifier>
                    <fieldMember>
                      <transform>CAMEL</transform>
                      <expression>$0</expression>
                    </fieldMember>
                    <fieldSetter>
                      <transform>CAMEL</transform>
                      <expression>$0</expression>
                    </fieldSetter>
                    <fieldGetter>
                      <transform>CAMEL</transform>
                      <expression>$0</expression>
                    </fieldGetter>
                  </field>
                </fields>
                <routines>
                  <routine>
                    <routineClass>
                      <transform>AS_IS</transform>
                      <expression>$0</expression>
                    </routineClass>
                    <routineMethod>
                      <transform>AS_IS</transform>
                      <expression>$0</expression>
                    </routineMethod>
                  </routine>
                </routines>
                <sequences>
                  <sequence>
                    <sequenceIdentifier>
                      <transform>AS_IS</transform>
                      <expression>$0</expression>
                    </sequenceIdentifier>
                  </sequence>
                </sequences>
              </matchers>
            </strategy>
          </generator>
        </configuration>
      </plugin>
    </plugins>
  </build>
  <repositories>
    <repository>
      <releases>
        <enabled>false</enabled>
      </releases>
      <snapshots />
      <id>sonatype-nexus-snapshots</id>
      <name>Sonatype Nexus Snapshots</name>
      <url>http://oss.sonatype.org/content/repositories/snapshots</url>
    </repository>
  </repositories>
  <dependencies>
    <dependency>
      <groupId>io.dropwizard</groupId>
      <artifactId>dropwizard-testing</artifactId>
      <version>0.8.0-rc2</version>
      <scope>test</scope>
      <exclusions>
        <exclusion>
          <artifactId>junit</artifactId>
          <groupId>junit</groupId>
        </exclusion>
        <exclusion>
          <artifactId>mockito-core</artifactId>
          <groupId>org.mockito</groupId>
        </exclusion>
        <exclusion>
          <artifactId>objenesis</artifactId>
          <groupId>org.objenesis</groupId>
        </exclusion>
        <exclusion>
          <artifactId>assertj-core</artifactId>
          <groupId>org.assertj</groupId>
        </exclusion>
        <exclusion>
          <artifactId>jersey-test-framework-provider-inmemory</artifactId>
          <groupId>org.glassfish.jersey.test-framework.providers</groupId>
        </exclusion>
      </exclusions>
    </dependency>
  </dependencies>
  <properties>
    <jasypt.version>1.9.2</jasypt.version>
    <dropwizard.jooq.version>0.8.0-0-SNAPSHOT</dropwizard.jooq.version>
    <dropwizard.version>0.8.0-rc2</dropwizard.version>
    <project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    <jooq.version>3.5.1</jooq.version>
  </properties>
</project>

